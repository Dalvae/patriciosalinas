---
interface WordPressPage {
  slug: string;
  title: {
    rendered: string;
  };
  excerpt: {
    rendered: string;
  };
  _embedded?: {
    "wp:featuredmedia"?: Array<{
      source_url: string;
    }>;
  };
}

interface Props {
  pages: WordPressPage[];
}

const { pages } = Astro.props;
---

<ul>
  {
    pages.map((page) => (
      <li>
        <h2>
          <a href={`/page/${page.slug}`}>{page.title.rendered}</a>
        </h2>
        {page._embedded?.["wp:featuredmedia"]?.[0] && (
          <img
            src={page._embedded["wp:featuredmedia"][0].source_url}
            alt={page.title.rendered}
          />
        )}
        <div set:html={page.excerpt.rendered} />
      </li>
    ))
  }
</ul>
